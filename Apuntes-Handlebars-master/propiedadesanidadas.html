<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Handlebars: Propiedades anidadas</title>
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">

	<script id="mi-plantilla" type="text/x-handlebars-template">
	  	<h1>{{apellidos}}, {{nombre}}</h1>
	  	<p>Edad: {{edad}}</p>
	  	<h2>En la red:</h2>
	  	<ul class="list-unstyled">
	  	{{#with social}}
	  		{{#if twitter}}
	  		<li><span class="glyphicon glyphicon-chevron-right"></span> <a href="{{twitter}}">En Twitter</a></li>
	  		{{/if}}
	  		{{#if facebook}}
	  		<li><span class="glyphicon glyphicon-chevron-right"></span> <a href="{{facebook}}">En Facebook</a></li>
	  		{{/if}}
	  		{{#if web}}
	  		<li><span class="glyphicon glyphicon-chevron-right"></span> <a href="{{web}}">Web</a></li>
	  		{{/if}}
	  		{{#if blog}}
	  		<li><span class="glyphicon glyphicon-chevron-right"></span> <a href="{{blog}}">Blog</a></li>
	  		{{/if}}
	  	{{/with}}
	  	</ul>
	</script>
</head>
<body>

	<div id="contenedor"></div>
	
	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/handlebars-v2.0.0.js"></script>
	
	<script>
		$(document).ready(function() {

			var registro = {
				nombre: 'Marcos',
				apellidos: 'Gonzalez Sancho',
				edad: '22',
				social: {
					twitter: 'https://twitter.com/qmarcos',
					facebook: 'https://facebook.com/qinteractiva',
					web: 'http://q-interactiva.com',
					blog: 'http://blog.q-interactiva.com'
				}
			};			

			var source   = $("#mi-plantilla").html();		
			var plantilla = Handlebars.compile(source);
			
			$('#contenedor').html( plantilla( registro ) );
		})
	</script>
</body>
</html>